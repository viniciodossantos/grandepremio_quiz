function load(e){e?($("body").append('<div class="div_load"></div><div class="opacity_load"></div>'),setTimeout(function(){$(".div_load").show(),$(".opacity_load").show()},200)):$(".div_load,.opacity_load").remove()}var ajaxPost=function(i){var s=new $.Deferred;if($(i.id)[0])serialize=$(i.id).serialize();else{if(!i.form)return!1;serialize=i.form}return $.ajax({url:i.ajax_url,type:"post",data:{action:i.action,post:serialize},success:function(e){var o=$(i.id).validate(),t=!0;try{e=$.parseJSON(e)}catch(e){t=!1,e}t&&("success"==e.status?s.resolve(e):"error"==e.status&&($.isArray(e.errors)?$.each(e.errors,function(e,t){o.showErrors(t.validationjquery)}):$(i.id)[0]&&o.showErrors(e.errors.validationjquery))),s.resolve(e)}}),s.promise()};function returnJson(e){var t=!0;try{e=$.parseJSON(e)}catch(e){t=!1,e}return!!t&&e}$(document).ready(function(){$(".icone-busca").click(function(){$(this).hasClass("open")?($(this).removeClass("open"),$(".menu-busca").addClass("hidden")):($(this).addClass("open"),$(".menu-busca").removeClass("hidden"),$("#txtBusca").focus(),$(".explorar").hasClass("open")&&($(".explorar").removeClass("open"),$(".menu-explorar").addClass("hidden")))}),$(".explorar").click(function(){$(this).hasClass("open")?($(this).removeClass("open"),$(".menu-explorar").addClass("hidden")):($(this).addClass("open"),$(".menu-explorar").removeClass("hidden"),$(".icone-busca").hasClass("open")&&($(".icone-busca").removeClass("open"),$(".menu-busca").addClass("hidden")))});var e=$(window).height(),t=($(window).width(),e-50);$(".content-menu-mobile").css("height",t+"px"),$(".icone-menu").click(function(){$(".content-menu-mobile").hasClass("hidden")?($(".content-menu-mobile").removeClass("hidden"),$(this).addClass("active")):($(".content-menu-mobile").addClass("hidden"),$(this).removeClass("active"))}),$("#txtBusca").keypress(function(e){if(13==e.keyCode){if(""!=$(this).val().trim()){var t=encodeURI($(this).val().trim());window.location="/busca?s="+t}return!1}}),$("#txtBuscaTela").keypress(function(e){if(13==e.keyCode){if(""!=$(this).val().trim()){var t=encodeURI($(this).val().trim());window.location="/busca?s="+t}return!1}})});var questions=document.querySelectorAll(".question"),quizgp=new Quiz;function htmlEncode(e){return $(document.createElement("div")).text(e).html()}function addChoices(e){if(void 0!==e&&"array"==$.type(e)){$("#choice-block").empty();for(var t=0;t<e.length;t++)$(document.createElement("li")).addClass("choice choice-box").attr("data-index",t).text(e[t]).appendTo("#choice-block")}}function Quiz(){var s=".question",n=".quiz",a=".numberstep",c=".quiz_end",r=dragtostart.querySelector(".car"),e="",l=!1,u=[{question:"No período em que Sebastian Vettel foi campeão na F1, quantos pilotos foram titulares da Scuderia Ferrari?",image:"assets/images/quiz/1.jpg",mobile:"assets/images/quiz/1mobile.jpg",choices:["2 pilotos","3 pilotos","4 pilotos","5 pilotos"],answer:""},{question:"No período em que Sebastian Vettel foi campeão na F1, quantos pilotos foram titulares da Scuderia Ferrari?",image:"assets/images/quiz/2.jpg",mobile:"assets/images/quiz/1mobile.jpg",choices:["2 pilotos","3 pilotos","4 pilotos","5 pilotos"],answer:""}];function d(){console.log("next"),(e=$(s)).each(function(e,t){$(t).hasClass("active")&&(h(n,$(n).outerWidth(),$(n).outerHeight()),function(o){$(".question:last-child .quiz_question h2").html(("0"+(o+1)).slice(-2)+"."),$(".question:last-child .quiz_question h3").html(u[o].question),$(".question:last-child .cover").css("background-image","url("+u[o].image+")"),$(".cover-mobile").css("background-image","url("+u[o].mobile+")"),$(a).html(("0"+(o+1)).slice(-2)+" / "+("0"+u.length).slice(-2));var i="";u[o].choices.forEach(function(e,t){i+='<button type="button" value="'+t+'">'+e+"</button>"}),$(".question:last-child .quiz_question .choices").html(i),$("button").click(function(){var e,t;e=this,(t=o)+1<u.length?(u[t].answer=$(e).val(),$('<div class="question">'+$(".question.active").html()+"</div>").appendTo(".quiz"),d()):($qz=$(c).html(),$(c).remove(),$('<div class="quiz_end">'+$qz+"</div>").appendTo(".quiz"),$(c+" .result b").html(("0"+step).slice(-2)+" / "+("0"+u.length).slice(-2)),h(n,$(n).outerWidth(),$(n).outerHeight(),!1),$(n).removeClass("question_on"),$(s).animate({height:"0px"},600,function(){$(s).removeClass("active"),$(n).css({height:"auto",width:"auto"})}),$(c).addClass("active"),$(a).hide())})}(e),step=e+1,$(n).hasClass("question_on")||$(n).addClass("question_on"))}),$(e[step-1]).animate({height:"0px"},600,function(){$(e[step-1]).removeClass("active"),h(n,$(e[step]).outerWidth(),$(e[step]).outerHeight(),!0),$(a).show()}),$(e[step]).addClass("active")}function h(e,t,o,i){i?$(e).animate({height:o,width:t},400,function(){$(e).css({height:"auto",width:"auto"})}):$(e).css({height:o,width:t})}function t(e){if(!l){var t=(e.clientX?e.clientX:e.changedTouches[0].clientX)-r.getBoundingClientRect().left;function o(e){e<0&&(e=0);var t=dragtostart.offsetWidth-r.offsetWidth;t<e?(e=t,l=!0):l=!1,r.style.left=e+"px"}function i(e){o(e.clientX-t-dragtostart.getBoundingClientRect().left)}function s(){document.removeEventListener("mouseup",s),document.removeEventListener("mousemove",i),1==l&&(console.log("start"),d())}document.addEventListener("mousemove",i),document.addEventListener("mouseup",s),r.addEventListener("touchmove",function(e){e.preventDefault(),console.log(e.changedTouches[0].clientX),console.log(t),console.log(dragtostart.getBoundingClientRect().left),o(e.changedTouches[0].clientX-t-dragtostart.getBoundingClientRect().left)},!1),r.addEventListener("touchend",s,!1)}}this.init=function(){},r.addEventListener("touchstart",function(e){t(e)}),r.onmousedown=function(e){e.preventDefault(),t(e)},this.init()}